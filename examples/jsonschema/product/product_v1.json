{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://herbie.json-schema/product/product_v1.json",
  "title": "Product",
  "composition": [
    {
      "businessEntity": "product_description",
      "version": "v1",
      "joinField": "productId",
      "fields": ["productId", "name", "description", "imageUrl"]
    },
    {
      "businessEntity": "price",
      "version": "v1",
      "joinField": "productId",
      "fields": ["value", "currency"]
    },
    {
      "businessEntity": "stock",
      "version": "v1",
      "joinField": "productId",
      "fields": ["availability"]
    }
  ],
  "description": "product info",
  "type": "object",
  "properties": {
    "productId": {"type": "string"},
    "name": {"type": "string"},
    "description": {"type": "string"},
    "imageUrl": {"type": "string"},
    "value": {"type": "number"},
    "currency": {"type": "string"},
    "availability": {"type": "string"}
  },
  "required": [ "productId", "name", "value", "currency", "availability" ]
}
